# Week of 2023-09-18 to 2023-09-25 (21)

### GHFirst (5)

- [Revert "[inductor] Use _unsafe_view decompostion (#109669)"](https://github.com/pytorch/pytorch/commit/406b8412c2ade6857edd53ec42467b1268996cc6)
  - failing internally ([comment](https://github.com/pytorch/pytorch/pull/109669#issuecomment-1729906056))
- [Revert "[2/N] Add -Wdeprecated and related fixes (#109564)"](https://github.com/pytorch/pytorch/commit/cdb51d2ad012403d5f2b399898817fb162b203a1)
  - Need to revert as followup revert of first PR 108626 ([comment](https://github.com/pytorch/pytorch/pull/109564#issuecomment-1728137207))
- [Revert "[1/N] Add -Wdeprecated and related fixes (#108626)"](https://github.com/pytorch/pytorch/commit/1cc052bcab845433afbf5e6ef78c15e028c49fc3)
  - I'm getting errors internally that look like the below on x86_64-apple-ios-simulator with clang 16 D49440218 ([comment](https://github.com/pytorch/pytorch/pull/108626#issuecomment-1728102447))
- [Revert "[ONNX] Remove deprecated functions (#107208)"](https://github.com/pytorch/pytorch/commit/cd31c170c9838766af0d921af2a8f93436195a49)
  - Diff reverted internally ([comment](https://github.com/pytorch/pytorch/pull/107208#issuecomment-1726183104))
- [Revert "Eliminate c10::guts::make_unique_base (#109429)"](https://github.com/pytorch/pytorch/commit/1427b8149c34b429bb19783045bbc4766bdb55f3)
  - Sorry its me again, I'm getting that this caused an instruction count regression internally (increase by 35%) D49378736 ([comment](https://github.com/pytorch/pytorch/pull/109429#issuecomment-1725923294))

### Ignored Signal (1)

- [Revert "[inductor] fix a max-autotune rng state related bug (#109828)"](https://github.com/pytorch/pytorch/commit/d9627c42648984526dba0c19d6d00e38ee97d3eb)
  - Sorry for reverting your change, but the rocm failure looks legit. There is also another numpy import error when running dynamo test on CPU ([comment](https://github.com/pytorch/pytorch/pull/109828#issuecomment-1732423883))

### Landrace (4)

- [Revert "Update AOTAutograd to use FunctionalTensorMode instead of C++ functionalization (#106406)"](https://github.com/pytorch/pytorch/commit/629a628cc8bb1f62e2cce11bf0c8a00d3d06f896)
  - Broke lots of tests on trunk ([comment](https://github.com/pytorch/pytorch/pull/106406#issuecomment-1731524917))
- [Revert "Add Python serialization to Pattern Matcher patterns (#108894)"](https://github.com/pytorch/pytorch/commit/8705fc1bbd30799641beb9360e84967e1552c690)
  - land race ([comment](https://github.com/pytorch/pytorch/pull/108894#issuecomment-1726649151))
- [Revert "Serialize Remaining Patterns (#108917)"](https://github.com/pytorch/pytorch/commit/8b4b1817c8e5e64babf025c1c6f6bd34534b5d0a)
  - land race ([comment](https://github.com/pytorch/pytorch/pull/108917#issuecomment-1726646267))
- [Revert "Generate patterns in fp16 and fp32 (#109142)"](https://github.com/pytorch/pytorch/commit/c2f5d4d8f09b535e434313223434009bad282258)
  - MESSAGE ([comment](https://github.com/pytorch/pytorch/pull/109142#issuecomment-1726641232))

### Not through pytorchbot (2)

- [Back out "[pytorch][PR] [Inductor] Extend Pattern Matcher to Match Equivalent Function Invocation" (#109931)](https://github.com/pytorch/pytorch/commit/85ddc985d098d00e81ec6539d9a006751e85d1ea)
- [Back out "[decomp] Fix baddbmm decomposition (#109714)" (#109855)](https://github.com/pytorch/pytorch/commit/334ead04a9497989c0e25672dca9a52fae4d86c0)

### No Signal (9)

- [Revert "Better invariants - always route list/tuple to their requisite VTs instead of ConstantVariable (#109869)"](https://github.com/pytorch/pytorch/commit/ebb30bdd6f8c21b1d552c5abb1c899f9b040f30c)
  - Sorry for reverting your change, but the failed test looks legit as it is also failing in trunk https://hud.pytorch.org/pytorch/pytorch/commit/06aa6966a88586d34e6470cc2149121d17971056 ([comment](https://github.com/pytorch/pytorch/pull/109869#issuecomment-1732424765))
- [Revert "When doing typed typecheck, also check signature with symint removed (#109727)"](https://github.com/pytorch/pytorch/commit/d0c8e8240dc04ca85dd071d99be49454a9138de6)
  - yolov3 problem ([comment](https://github.com/pytorch/pytorch/pull/109727#issuecomment-1731585002))
- [Revert "[Reland] Remove calls of c10::either (#109708)"](https://github.com/pytorch/pytorch/commit/b5fde4c382200ddd2da82d6538b84b80a4ee93b3)
  - Broke windows periodic tests ([comment](https://github.com/pytorch/pytorch/pull/109708#issuecomment-1730356321))
- [Revert "Add PR number to metrics when available (#109406)"](https://github.com/pytorch/pytorch/commit/b1f1b39feb3173bb911deb348977a32761b0f037)
  - breaks lint ([comment](https://github.com/pytorch/pytorch/pull/109406#issuecomment-1730049340))
- [Revert "Handle unbacked symints in Triton size hints (#109609)"](https://github.com/pytorch/pytorch/commit/169ae7540d65a3be98937b2f2671232774211cbb)
  - this seems to regress HF perf ([comment](https://github.com/pytorch/pytorch/pull/109609#issuecomment-1729688883))
- [Revert "[Dynamo][Test] reland testcase with state (#109713)"](https://github.com/pytorch/pytorch/commit/559d1f94a0afd881075b38d6e702ea8da0e4212a)
  - creates a out of memory error for macos tests ([comment](https://github.com/pytorch/pytorch/pull/109713#issuecomment-1728314478))
- [Revert "Eliminate c10::stoi,c10::stod,c10::stoull,c10::stoll (#109179)"](https://github.com/pytorch/pytorch/commit/4d44d8c00a0b20b3e9a6723c665bd45172f4a41b)
  - Sorry for reverting your change but this is breaking periodic buck build, so please fix the issue and reland the change https://github.com/pytorch/pytorch/actions/runs/6207458526/job/16852695272 ([comment](https://github.com/pytorch/pytorch/pull/109179#issuecomment-1724168571))
- [Revert "inductor: only do the conv+bn folding for the freezing path (#109270)"](https://github.com/pytorch/pytorch/commit/70ca3ee951ba3dc58e5e42a96bcca0245d8f12bc)
  - Broke slow test, see https://hud.pytorch.org/pytorch/pytorch/commit/c7017fff38e73210541124739ed9404492ddd68c ([comment](https://github.com/pytorch/pytorch/pull/109270#issuecomment-1724132526))
- [Revert "Add PR number to metrics when available (#109406)"](https://github.com/pytorch/pytorch/commit/a399f839ac098e9a0a40a73a6534a91e74e2dc01)
  - breaks trunk ([comment](https://github.com/pytorch/pytorch/pull/109406#issuecomment-1724061024))
