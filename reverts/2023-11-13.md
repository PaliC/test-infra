# Week of 2023-11-13 to 2023-11-20 (25)

### GHFirst (12)

- [Revert "[1/N] Fixes clang-tidy warnings in header files (#113608)"](https://github.com/pytorch/pytorch/commit/3f6e5e87f8b1996677f4607015df3d5e002d4695)
  - Sorry for reverting your change but it is failing with an internal build when -Wpessimizing-move is used ([comment](https://github.com/pytorch/pytorch/pull/113608#issuecomment-1815424448))
- [Revert "[export] make aot_export_module uses dynamo's fake_mode (#113681)"](https://github.com/pytorch/pytorch/commit/40dfabf970da6f82aa93ba7acd75723c10fcf516)
  - Sorry for reverting your change, but it is failing an internal ExecuTorch test ([comment](https://github.com/pytorch/pytorch/pull/113681#issuecomment-1815329750))
- [Revert "[quant][pt2e] Refactor insert observer to do sharing checking in the same place (#113458)"](https://github.com/pytorch/pytorch/commit/3c4e4d9947f67e7e73d111b0d0aa19b85e6ea375)
  - Sorry for reverting your change but it is failing executorch export test for llama2 ([comment](https://github.com/pytorch/pytorch/pull/113458#issuecomment-1815280715))
- [Revert "Support tensors as Dict keys (#111196)"](https://github.com/pytorch/pytorch/commit/5d170fce290d29eda220abef3c8401ad1f7b654c)
  - Sorry for reverting your change, but it is failing internally. I will provide the details there ([comment](https://github.com/pytorch/pytorch/pull/111196#issuecomment-1813410149))
- [Revert "[easy]Remove specialized value (#112252)"](https://github.com/pytorch/pytorch/commit/7137f5f8c3ecfaa8d31d4a2db6e886d45cb58fd0)
  - Sorry for reverting your change, but https://github.com/pytorch/pytorch/pull/111196 is failing internally. I will provide the details there ([comment](https://github.com/pytorch/pytorch/pull/112252#issuecomment-1813401896))
- [Revert "[funcol] a few optimizations to funcol (#113324)"](https://github.com/pytorch/pytorch/commit/4534cf102ae19b8d091b8b33d8578899eaa8b0f1)
  - Sorry for reverting your change here, but it is failing internal test ([comment](https://github.com/pytorch/pytorch/pull/113324#issuecomment-1813317913))
- [Revert "[2d] pass shape/stride during tensor unflatten (#113547)"](https://github.com/pytorch/pytorch/commit/277474f1a00de7b2df695992f701d1ecfe47c3b2)
  - broken compile test ([comment](https://github.com/pytorch/pytorch/pull/113547#issuecomment-1813048318))
- [Revert "use sourceless builder for builtin getattr (#113340)"](https://github.com/pytorch/pytorch/commit/77f66ade66a55b55829eb4517c0ab8776147a50d)
  - Sorry for reverting your change, but the test is failing internally ([comment](https://github.com/pytorch/pytorch/pull/113340#issuecomment-1811684167))
- [Revert "[dynamo] Refactor test cross importing (#113242)"](https://github.com/pytorch/pytorch/commit/92e3f45f0e334ff92f8624339ff617a99ddf21df)
  - Sorry for reverting your stack, but it is failing to list test internally with buck2 ([comment](https://github.com/pytorch/pytorch/pull/113242#issuecomment-1811674395))
- [Revert "[inductor] Move things into torch/testing/_internal/inductor_utils.py (#113275)"](https://github.com/pytorch/pytorch/commit/6bffde99b0b1c372d450f87fdbe8ec33ea460152)
  - Sorry for reverting your stack, but it is failing to list test internally with buck2 ([comment](https://github.com/pytorch/pytorch/pull/113275#issuecomment-1811666004))
- [Revert "[dynamo] Add run_inductor_tests entrypoint (#113278)"](https://github.com/pytorch/pytorch/commit/1e60174891c21e8de9a813eb2a454ac9819b4a50)
  - Sorry for reverting your stack, but it is failing to list test internally with buck2 ([comment](https://github.com/pytorch/pytorch/pull/113278#issuecomment-1811646325))
- [Revert "Add support for `torch.Generator` type in TorchScript (#110413)"](https://github.com/pytorch/pytorch/commit/252e68a83b56343f723a35c3cd16b05f66b8e726)
  - Sorry for reverting your change but it is, unfortunately, still breaking internal builds ([comment](https://github.com/pytorch/pytorch/pull/110413#issuecomment-1811625557))

### Ignored Signal (1)

- [Revert "[ONNX] Fix scalar type promotion between fp16 tensor and fp32 scalar (#113404)"](https://github.com/pytorch/pytorch/commit/0fd856ca22e962ddf9a27155c2874b023082722f)
  - sorry it is breaking CI jobs on main ([comment](https://github.com/pytorch/pytorch/pull/113404#issuecomment-1808314277))

### Landrace (5)

- [Revert "Convert SymInts to SymFloats with SymPy (#113683)"](https://github.com/pytorch/pytorch/commit/e3eca4c49ffff6de298c6d68a3a3fbaa232b7184)
  - Sorry for reverting your change but it is failing in trunk https://hud.pytorch.org/pytorch/pytorch/commit/0ec66b3be5a53ab960872981b5027c49c2e6b7e9, probably a landrace as this is not failing on your PR ([comment](https://github.com/pytorch/pytorch/pull/113683#issuecomment-1817759130))
- [Revert "limit fused kernel num args. (#113131)"](https://github.com/pytorch/pytorch/commit/ff7c06a01bec97c897374a685f33bb7253df11ec)
  - Breaks lint on trunk ([comment](https://github.com/pytorch/pytorch/pull/113131#issuecomment-1817548349))
- [Revert "Fix checking symbolic shapes inside torch._check (#113811)"](https://github.com/pytorch/pytorch/commit/76bf10e551743cc8448d711e3a1ee58b6f2d3015)
  - This one still break inductor tests on main https://hud.pytorch.org/pytorch/pytorch/commit/4f8cb52ed94bcdce16c421d7a5e3e9d32acfa439 ([comment](https://github.com/pytorch/pytorch/pull/113811#issuecomment-1817001514))
- [Revert "Fix checking symbolic shapes inside torch._check (#113811)"](https://github.com/pytorch/pytorch/commit/7731c97e065cffe4efe82698980a2c8297816dbd)
  - Breaking inductor tests on main ([comment](https://github.com/pytorch/pytorch/pull/113811#issuecomment-1816024288))
- [Revert "Improves comparison of state dicts for Checkpoint E2E Tests (#113181)"](https://github.com/pytorch/pytorch/commit/5465f2bb6c7f6f6fee3ca8444a7cf0d54ecb52b3)
  - Sorry for reverting your change but it is failing distribute test in trunk https://hud.pytorch.org/pytorch/pytorch/commit/8f5fead86ea9a9eac85d20c6aee780e06ce04eb7 with a not defined DTensor error ([comment](https://github.com/pytorch/pytorch/pull/113181#issuecomment-1810925052))

### Not through pytorchbot (1)

- [Back out "Support fp8 in AOTInductor + support optional<> in C ABI (#112527)" (#113747)](https://github.com/pytorch/pytorch/commit/b19cf868e8ba5c068738b0ce940701027b67f84f)

### No Signal (1)

- [Revert "Make offsets dynamic by default (#113734)"](https://github.com/pytorch/pytorch/commit/98df3088c3e604b992236838915b521f9fa8db84)
  - Sorry for reverting your change, but it is causing a memory leak in one of the test https://hud.pytorch.org/pytorch/pytorch/commit/9efbb4ea73009950a2d99e4d871351c898aae0dd ([comment](https://github.com/pytorch/pytorch/pull/113734#issuecomment-1815297222))

### Weird (5)

- [Revert "Add Pass to move constructors from cpu to cuda (#109665)"](https://github.com/pytorch/pytorch/commit/62d86f27c28fdb28e0016662aade2b54dc353fa6)
  - want to make one last change ([comment](https://github.com/pytorch/pytorch/pull/109665#issuecomment-1814924579))
- [Revert "[ONNX][dynamo_export] Add 'aten::rsub' type promotion (#113697)"](https://github.com/pytorch/pytorch/commit/bbd73c746e4d652b3aadaf3c5a0ea59b9b03cb4c)
  - Sorry for reverting your change, but it is failing in trunk https://hud.pytorch.org/pytorch/pytorch/commit/48800e9bb0fd0d8aa56f961fe207b1040922fa2e.  The failure on the PR is legit https://github.com/pytorch/pytorch/actions/runs/6884783862/job/18728219414, let me take a look on why Dr.CI marks it as flaky ([comment](https://github.com/pytorch/pytorch/pull/113697#issuecomment-1813790907))
- [Revert "Fix resize matrix_power.out dynamic shapes (#113695)"](https://github.com/pytorch/pytorch/commit/dedb47d94c5ece3933070b7243b01758d3270f8a)
  - sorry about that ([comment](https://github.com/pytorch/pytorch/pull/113695#issuecomment-1812705370))
- [Revert "Only check significant strides in test torchinductor (#113389)"](https://github.com/pytorch/pytorch/commit/45671be2a06dcfb01ea2c32828b353fb0b462f7e)
  - Sorry for reverting your change, but it is conflicting with this revert https://github.com/pytorch/pytorch/pull/113275#issuecomment-1811651388, so I need to revert this to clean thing up ([comment](https://github.com/pytorch/pytorch/pull/113389#issuecomment-1811663791))
- [Revert "AOTAutograd: handle set_(), detect metadata mutations that cancel out (#111554)"](https://github.com/pytorch/pytorch/commit/0e6b6a24838ef2a9bb002aea8d4fbd247fbb1c97)
  - the xla failure is real sorry, log classifier is showing the wrong line ([comment](https://github.com/pytorch/pytorch/pull/111554#issuecomment-1809177978))
