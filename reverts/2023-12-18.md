# Week of 2023-12-18 to 2023-12-25 (21)

### GHFirst (5)

- [Revert "Mark set_ as an inplace view op (#115769)"](https://github.com/pytorch/pytorch/commit/497777e3020fd4f5446c02576a54dd30ad6907ce)
  - breaking landing signals internally, more details on the diff, author is tagged ([comment](https://github.com/pytorch/pytorch/pull/115769#issuecomment-1866846607))
- [Revert "[BE][Easy]: Enable clang-tidy check readability-misplaced-array-index (#116210)"](https://github.com/pytorch/pytorch/commit/348cb2f8f99a0fd9bf76b289bf88b5b8d060d525)
  - unfortunately, It is required to revert this PR in order to properly revert https://github.com/pytorch/pytorch/pull/116193 ([comment](https://github.com/pytorch/pytorch/pull/116210#issuecomment-1866380974))
- [Revert " pre_dispatch aot_export (#115188)"](https://github.com/pytorch/pytorch/commit/0567f71ac69df491d69b331e1f0af04614b3e010)
  - sadly, it is required to revert this commit in order to revert https://github.com/pytorch/pytorch/pull/115454 ([comment](https://github.com/pytorch/pytorch/pull/115188#issuecomment-1866310014))
- [Revert "[ROCm] add hipblaslt support (#114329)"](https://github.com/pytorch/pytorch/commit/47908a608f2b5e588b0634026df23cfd458d2c3a)
  - Reverting due to inconsistencies on internal diff ([comment](https://github.com/pytorch/pytorch/pull/114329#issuecomment-1861933267))
- [Revert "[ROCm] fix nightly 5.6 build (#116029)"](https://github.com/pytorch/pytorch/commit/ed0c0c49efeebbb8aa423945cf0840787cdf7c41)
  - Need to revert, in order to be able to revert #114329 ([comment](https://github.com/pytorch/pytorch/pull/116029#issuecomment-1861931736))

### Not through pytorchbot (2)

- [Back out "Implement pass-through `state_dict` and `load_state_dict` for dynamo OptimizedModule (#113423)" (#116243)](https://github.com/pytorch/pytorch/commit/199b04fdbd69e9a27edf676fd10e21bbd2a8d416)
- [Back out "[Kineto] Initialize libkineto profilers during torch init process during pybind set-up (#112623)" (#116201)](https://github.com/pytorch/pytorch/commit/a357a0f31519f96cff9839c1672a112539ba98ff)

### No Signal (13)

- [Revert "[Easy][BE]: Enable clang-tidy check for duplicate includes (#116193)"](https://github.com/pytorch/pytorch/commit/f71d302c6377be5496a9c501c4c6c86aed56bcef)
  - Breaking internal test (bolt_nn_espresso_operator_test_eureka-scheduler) and job (build-rdk-diff-windows-debug-cuda11) @malfet and @albanD, please help the author get this PR merged by providing more information ([comment](https://github.com/pytorch/pytorch/pull/116193#issuecomment-1866391726))
- [Revert "Support nn_module_stack in torch.export(strict=False) (#115454)"](https://github.com/pytorch/pytorch/commit/ec6c4fed3fec25434f07562552043bafe0f7f845)
  - Breaking internal tests recycle_bin_citadel and executorch, check internal diff to see more details ([comment](https://github.com/pytorch/pytorch/pull/115454#issuecomment-1866315233))
- [Revert "[innductor] make inductor work with new triton compile interface (#115878)"](https://github.com/pytorch/pytorch/commit/db35ccf46334164d0b02e5be9450193d881edb40)
  - Broke ROCm https://github.com/pytorch/pytorch/actions/runs/7282149837/job/19844618618 ([comment](https://github.com/pytorch/pytorch/pull/115878#issuecomment-1865369349))
- [Revert "Serve multistream graph captures from correct pool (#114647)"](https://github.com/pytorch/pytorch/commit/fe156456194ed64bdf8b086d469b3643515a2baf)
  - breaking multiple internal build jobs, please check internal diff in order to obtain more details ([comment](https://github.com/pytorch/pytorch/pull/114647#issuecomment-1864840724))
- [Revert "[inductor] Avoid bool being upcast to int (#109913)"](https://github.com/pytorch/pytorch/commit/c215e59bf270334f9c17472ce77ec3a3b7d76d9e)
  - causing performance regression in relevant metrics, @malfet I believe you are the correct person to help identify and fix the issues. More details check internal OPS count for ads metricsnin the internal related diff ([comment](https://github.com/pytorch/pytorch/pull/109913#issuecomment-1864397407))
- [Revert "[Dynamo][9/N] Make SkipFilesVariable wrap functions only (#115963)"](https://github.com/pytorch/pytorch/commit/bdfabe5e7d493ad375ca16baee21f582760fd8a4)
  - causing significant performance regression, identified by number of ops in ads, please check internal diff ([comment](https://github.com/pytorch/pytorch/pull/115963#issuecomment-1864361697))
- [Revert "Fix allowed dtypes for mem_eff attention (#116026)"](https://github.com/pytorch/pytorch/commit/af8a50e656f690de5ac101c8e71105ce01599d18)
  - breaking internal windows buck builds, check internal diff for more details ([comment](https://github.com/pytorch/pytorch/pull/116026#issuecomment-1864354665))
- [Revert "Introduce 3 low-latency, intra-node allreduce algorithms for small messages to PyTorch (#114001)"](https://github.com/pytorch/pytorch/commit/91e184fd740b644e2a30dc6985a9e10813b652ab)
  - Breaking multiple internal tests, might be flakiness but multiple retries did not elicit an improvement, please check internal diff ([comment](https://github.com/pytorch/pytorch/pull/114001#issuecomment-1863036417))
- [Revert "[PT2] [Quant] Change the QConv2d Binary post op name from add to sum (#115329)"](https://github.com/pytorch/pytorch/commit/b6d0d0819ae6099b2d659d03892e1e19c17e912b)
  - Breaking internal builds, please check internal diff to get the list and logs, @jerryzh168 please support the author in order to get these changes merged and landed ([comment](https://github.com/pytorch/pytorch/pull/115329#issuecomment-1863021726))
- [Revert "[Inductor] Deduplicate grid wrapper statements for user defined triton kernels (#115849)"](https://github.com/pytorch/pytorch/commit/c539f7df10bb114df77e074bd04bcce9bf024c6d)
  - Breaking internal tests, please check internal diff for more details ([comment](https://github.com/pytorch/pytorch/pull/115849#issuecomment-1863012933))
- [Revert "More markDynamoStrictTest (#115870)"](https://github.com/pytorch/pytorch/commit/a7bfa04da60829a46675d0acdf30b7032d1a01db)
  - Breaking internal tests and builds, please check diff ([comment](https://github.com/pytorch/pytorch/pull/115870#issuecomment-1862997125))
- [Revert "markDynamoStrictTest more tests (#115871)"](https://github.com/pytorch/pytorch/commit/24af118e554936d7bced0dec2cb76c4384c278ea)
  - Breaking internal tests and builds, please check diff, this is required to revert #115870 ([comment](https://github.com/pytorch/pytorch/pull/115871#issuecomment-1862992931))
- [Revert "Adamw refactor (#115983)"](https://github.com/pytorch/pytorch/commit/5b6b680517936edf9161bfd2edad06e9e0c3737b)
  - Breaking internal tests, @janeyx99 please help @tfsingh to have this PR landed ([comment](https://github.com/pytorch/pytorch/pull/115983#issuecomment-1862976954))

### Weird (1)

- [Revert "Expose functional IR to capture_pre_autograd (#115210)"](https://github.com/pytorch/pytorch/commit/ed038346938e6a235429e858f4803816f0ce1765)
  - This should fix test_export_constraints_error_non_strict failures, see https://github.com/pytorch/pytorch/issues/116273 ([comment](https://github.com/pytorch/pytorch/pull/115210#issuecomment-1866706302))
